# Gothic Forge v3 - Environment Template
# Copy this file to .env and fill only what's necessary.
# Notes:
# - APP_ENV: development | production
# - In production, CSRF middleware is enabled and CSP is stricter.
# - All development happens in /app; gforge handles tooling and build.

# App
APP_ENV=development
SITE_BASE_URL=http://127.0.0.1:8080
SEO_KEYWORDS=

# Server
HTTP_HOST=127.0.0.1
HTTP_PORT=8080
# LOG_FORMAT: empty for human logs, or 'json' for structured logs
LOG_FORMAT=
# Platform port (Railway/Heroku) overrides HTTP_PORT when set
PORT=

# Enable pprof endpoints under /debug/pprof (0=off, 1=on even in non-dev)
PPROF_ENABLE=0

# Rate limiting (per IP)
RATE_LIMIT_MAX=120
RATE_LIMIT_WINDOW_SECONDS=60

# CORS
# Comma-separated list (e.g., https://example.com,https://app.example.com)
# Use '*' only for local development. When '*' is used, credentials are disabled.
CORS_ORIGINS=

# Security (JWT for auth/session-like flows)
# Generate a long random secret (32+ hex chars)
JWT_SECRET=

# Service URLs (populated by deploy or your provider)
DATABASE_URL=
VALKEY_URL=
REDIS_URL=
# TLS for Valkey/Redis over rediss:// (0=recommended; 1=skip verify only if your provider requires it)
VALKEY_TLS_SKIP_VERIFY=0

# OAuth (optional) â€” enables "Sign in with GitHub" if both are set
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
# Optional explicit base for OAuth callbacks (defaults to SITE_BASE_URL)
OAUTH_BASE_URL=

# Build/Export internals (optional)
# Skip installing templ/tailwind tools (CI/testing hooks)
GFORGE_SKIP_TOOLS=
# Base dir override for tests (affects SEO file paths)
GFORGE_BASEDIR=

# Deploy provider tokens (used by 'gforge deploy')
# Compute providers (choose one via --provider flag)
RAILWAY_TOKEN=
RAILWAY_API_TOKEN=
B4A_APP_URL=
# Database (CockroachDB is the opinionated Gothic Forge standard)
COCKROACH_API_KEY=
NEON_TOKEN=
# Cache
AIVEN_TOKEN=
# Static hosting (Cloudflare Pages)
CLOUDFLARE_API_TOKEN=
CF_API_TOKEN=
CF_ACCOUNT_ID=
CF_PROJECT_NAME=

# CockroachDB Serverless auto-provisioning (optional overrides)
COCKROACH_CLUSTER_NAME=gothic-forge-db
COCKROACH_REGION=us-east-1
COCKROACH_DB_NAME=app
COCKROACH_DB_USER=gothicforge

# Neon auto-provisioning (optional overrides)
NEON_PROJECT_NAME=gothic-forge-v3
NEON_BRANCH_NAME=main
NEON_DB_NAME=appdb
NEON_DB_USER=app
NEON_DB_PASSWORD=
NEON_REGION=

# Aiven Valkey auto-provisioning
AIVEN_PROJECT=
AIVEN_PLAN=
AIVEN_CLOUD=
AIVEN_SERVICE_NAME=gforge-valkey

# Provider signup and token/help links
# Railway: https://railway.app
# Back4app: https://www.back4app.com/signup
# Back4app Containers docs: https://www.back4app.com/docs-containers
# CockroachDB (opinionated Gothic Forge database): https://cockroachlabs.cloud/signup
# CockroachDB service accounts: https://cockroachlabs.cloud/service-accounts
# CockroachDB docs: https://www.cockroachlabs.com/docs/cockroachcloud/quickstart
# Neon (API keys): https://neon.tech/docs/manage/api-keys
# Aiven Console: https://console.aiven.io/
# Aiven tokens: https://console.aiven.io/profile/tokens
# Cloudflare Pages: https://pages.cloudflare.com/
# Cloudflare API tokens: https://dash.cloudflare.com/profile/api-tokens

# Security notes
# - CSRF: automatically enforced when APP_ENV=production
# - CSP: allows unpkg.com & cdn.jsdelivr.net and inline JSON-LD for SEO
# - Sessions: cookie SameSite=Lax, Secure in production
# - In production set APP_ENV=production and SITE_BASE_URL=https://your-domain.tld
# - CORS_ORIGINS in prod should be your site origin only (e.g., https://infortic.example.com)
# - LOG_FORMAT=json is recommended in production for structured logs
# - Platforms like Railway inject PORT; server binds 0.0.0.0:$PORT automatically
